# PermBook

**PermBook**은 `LuckPerms`의 펄미션 노드를 책 아이템으로 쉽게 관리 및 지급할 수 있도록 도와주는 플러그인입니다.

## 주요 특징
- **LuckPerms 플러그인을 필수**로 사용합니다.
- 명령어로 권한이 담긴 책을 생성하고 지급할 수 있습니다.
  - 영구제: `/권한북 생성 <펄미션노드> <월드>`
  - 기간제: `/권한북 기간제생성 <펄미션노드> <기간> <월드>` (예: 1d, 3h, 30m 등)
- 책을 우클릭하면 권한 적용 여부를 결정할 수 있는 GUI가 열립니다.
- 이미 권한을 가지고 있을 경우, 권한이 중복 적용되지 않습니다.
- GUI 버튼 배치 및 디자인, 메시지 등 대부분의 기능을 자유롭게 커스터마이징 할 수 있습니다.
- 권한이 적용될 때마다 기록이 남아 권한 지급 이력을 관리할 수 있습니다.
- 탭 자동완성(Tab Complete)을 지원하여 간편한 명령어 사용을 돕습니다.

## 명령어 안내

| 명령어 | 설명 |
|---|---|
| `/권한북 생성 <펄미션노드> <월드>` | 지정된 월드내에 펄미션 노드가 담긴 책을 생성합니다 (영구 권한). |
| `/권한북 기간제생성 <펄미션노드> <기간> <월드>` | 지정된 월드내에 펄미션 노드가 일정 기간 유지되는 책을 생성합니다. |
| `/권한북 리로드` | 설정 파일 (`permbook.yml`, `messages.yml`)을 리로드합니다. |

## 설정 파일 안내

### **`permbook.yml`**: 권한북 아이템 설정
```yaml
permbook:
  name: "&e권한북"
  lore:
    - ""
    - "&7해당 책을 우클릭하여 권한을 획득하세요"
    - ""
    - "&7권한 정보: &e{perm}"
    - "&7적용 대상: &e{world}"
    - ""

temp_permbook:
  name: "&e기간제 권한북"
  lore:
    - ""
    - "&7해당 책을 우클릭하여 권한을 획득하세요"
    - ""
    - "&7권한 정보: &e{perm}"
    - "&7기간: &e{duration}"
    - "&7적용 대상: &e{world}"
    - ""
```

- `{perm}`, `{duration}`, `{world}`등 플레이스홀더를 이용하여 권한과 기간 정보를 표시할 수 있습니다.
- 플러그인의 설정을 다루는 초보자도 손쉽게 아이템 디자인을 수정할 수 있습니다.

### **`messages.yml`**: 메시지 및 GUI 설정
```yaml
messages:
  no-console: "&c이 명령어는 플레이어만 사용할 수 있습니다."
  usage-use: "&e사용법:\n&f/권한북 리로드\n&f/권한북 생성 <LuckPerms 권한> <월드>\n&f/권한북 기간제생성 <LuckPerms 권한> <기간> <월드>"
  usage-create: "&c사용법: /권한북 생성 <LuckPerms 권한> <월드>"
  usage-temp-create: "&c사용법: /권한북 기간제생성 <권한노드> <기간> <월드> (기간 예시: 1d, 2h, 30m)"
  book-created: "&aLuckPerms 권한 '{perm}'이(가) 담긴 책을 지급했습니다. ({world}에 적용)"
  temp-book-created: "&aLuckPerms 권한 '{perm}'이(가) {duration} 동안 유지되는 책을 지급했습니다. ({world}에 적용))"
  already-has-perm: "&c이미 해당 권한을 가지고 있습니다!"
  perm-registered: "&aLuckPerms 권한 '{perm}'이(가) 등록되었습니다!"
  perm-registered-temp: "&aLuckPerms 권한 '{perm}'이(가) {duration} 동안 등록되었습니다! ({world}에 적용))"
  perm-cancelled: "&c권한 등록이 취소되었습니다."
  perm-fail: "&c권한 등록 중 오류가 발생했습니다. 콘솔 로그를 확인하세요."
  duration-parse-fail: "&c기간을 인식하지 못했습니다. 영구 권한으로 등록합니다!"
  reload-complete: "&aPermBook 설정 파일이 리로드되었습니다!"
  no-permission: "&c이 명령어를 사용할 권한이 없습니다."

gui:
  title: "정말 이 권한을 적용 하겠습니까?"

  cancel-name: "&c취소"
  cancel-lore:
    - ""
    - "&7클릭하여 권한 적용을 취소합니다."
    - ""

  confirm-name: "&a등록"
  confirm-lore:
    - ""
    - "&7클릭하여 권한을 적용합니다."
    - ""
    - "&7권한 적용 전 다시 한번 확인하세요."
    - "&7권한 정보: &e{perm}"
    - "&7기간: &e{duration}"
    - "&7적용 대상: &e{world}"
    - ""

  info-name: "&e정말 이 권한을 적용 하시겠습니까?"
  info-lore:
    - ""
    - "&7권한 적용 전 다시 한번 확인하세요."
    - "&7권한 정보: &e{perm}"
    - "&7기간: &e{duration}"
    - "&7적용 대상: &e{world}"
    - ""
    - "&7왼쪽: 권한 취소"
    - "&7오른쪽: 권한 적용"
    - ""

  cancel-slots: "0-3" # 권한 적용 GUI창 위치 조정 (빨간색 색유리 판) 건들 필요 X
  confirm-slots: "5-8" # 권한 적용 GUI창 위치 조정 (연두색 색유리 판) 건들 필요 X
```

- GUI 버튼 이름, 설명 등을 자유롭게 수정할 수 있습니다.
- `{perm}`, `{duration}`, `{world}`등 플레이스홀더 사용 가능하여, 유연한 커스터마이징을 제공합니다.

### **`data.yml`**: 권한 적용 기록
```yaml
logs:
- playerName, [2025-03-24 18:33], test.perm, ALL
- playerName, [2025-03-24 18:33], test.perm2, 1d, world
```
- 권한이 성공적으로 등록될 때마다  `- 닉네임, [날짜], 펄미션 노드, 기간, 월드`가 자동으로 기록됩니다.
- 권한 지급 이력 관리를 쉽게 할 수 있도록 도와줍니다.

## 설치 및 사용 방법
1. `LuckPerms` 플러그인을 먼저 설치합니다.
2. `PermBook` 플러그인을 서버 plugins 폴더에 넣습니다.
3. 서버를 실행하면 `permbook.yml`, `messages.yml`, `data.yml`이 생성됩니다.
4. 명령어로 권한북을 생성하여 플레이어에게 지급할 수 있습니다.
5. 권한북을 우클릭하면 GUI가 나타나며, 권한 적용 여부를 선택할 수 있습니다.

---

## 의존성
- **LuckPerms 필수**

---

## 개발자
- Angie_OvO
  
---



플러그인 관련하여 문제가 있거나, 추가로 원하는 기능이 있다면 언제든지 문의 주세요!
디스코드 : 01_jeong_ho
